{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\EstiloApp\\\\Estilo-app-\\\\client\\\\src\\\\Pages\\\\Basket\\\\Basket.jsx\",\n  _s = $RefreshSig$();\n// context/BasketContext.js\n\nimport React, { createContext, useState, useEffect } from \"react\";\nimport { useActiveUserContext } from \"./activeUserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BasketContext = /*#__PURE__*/createContext();\nexport const BasketProvider = ({\n  children\n}) => {\n  _s();\n  const {\n    activeUser\n  } = useActiveUserContext();\n  const [userBasketItems, setUserBasketItems] = useState(() => {\n    const storedItems = localStorage.getItem(`basketItems_${activeUser === null || activeUser === void 0 ? void 0 : activeUser._id}`);\n    return storedItems ? JSON.parse(storedItems) : [];\n  });\n  useEffect(() => {\n    localStorage.setItem(`basketItems_${activeUser === null || activeUser === void 0 ? void 0 : activeUser._id}`, JSON.stringify(userBasketItems));\n  }, [activeUser, userBasketItems]);\n  const addToBasket = post => {\n    const itemWithUser = {\n      ...post,\n      userId: activeUser === null || activeUser === void 0 ? void 0 : activeUser._id\n    };\n    setUserBasketItems([...userBasketItems, itemWithUser]);\n  };\n  const removeFromBasket = item => {\n    const updatedBasketItems = userBasketItems.filter(basketItem => basketItem._id !== item._id || basketItem.userId !== (activeUser === null || activeUser === void 0 ? void 0 : activeUser._id));\n    setUserBasketItems(updatedBasketItems);\n  };\n  const total = () => {\n    let totalPrice = 0;\n    userBasketItems.forEach(item => {\n      totalPrice += item.price;\n    });\n    return totalPrice;\n  };\n  return /*#__PURE__*/_jsxDEV(BasketContext.Provider, {\n    value: {\n      userBasketItems,\n      addToBasket,\n      removeFromBasket,\n      total\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(BasketProvider, \"ywMrl56fpl3RveBlJfnXy9KDPTA=\", false, function () {\n  return [useActiveUserContext];\n});\n_c = BasketProvider;\nvar _c;\n$RefreshReg$(_c, \"BasketProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useActiveUserContext","jsxDEV","_jsxDEV","BasketContext","BasketProvider","children","_s","activeUser","userBasketItems","setUserBasketItems","storedItems","localStorage","getItem","_id","JSON","parse","setItem","stringify","addToBasket","post","itemWithUser","userId","removeFromBasket","item","updatedBasketItems","filter","basketItem","total","totalPrice","forEach","price","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/EstiloApp/Estilo-app-/client/src/Pages/Basket/Basket.jsx"],"sourcesContent":["// context/BasketContext.js\r\n\r\nimport React, { createContext, useState, useEffect } from \"react\";\r\nimport { useActiveUserContext } from \"./activeUserContext\";\r\nexport const BasketContext = createContext();\r\n\r\nexport const BasketProvider = ({ children }) => {\r\n  const { activeUser } = useActiveUserContext();\r\n\r\n  const [userBasketItems, setUserBasketItems] = useState(() => {\r\n    const storedItems = localStorage.getItem(`basketItems_${activeUser?._id}`);\r\n    return storedItems ? JSON.parse(storedItems) : [];\r\n  });\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(`basketItems_${activeUser?._id}`, JSON.stringify(userBasketItems));\r\n  }, [activeUser, userBasketItems]);\r\n\r\n  const addToBasket = (post) => {\r\n    const itemWithUser = { ...post, userId: activeUser?._id };\r\n    setUserBasketItems([...userBasketItems, itemWithUser]);\r\n  };\r\n\r\n  const removeFromBasket = (item) => {\r\n    const updatedBasketItems = userBasketItems.filter(\r\n      (basketItem) => basketItem._id !== item._id || basketItem.userId !== activeUser?._id\r\n    );\r\n    setUserBasketItems(updatedBasketItems);\r\n  };\r\n\r\n  const total = () => {\r\n    let totalPrice = 0;\r\n\r\n    userBasketItems.forEach((item) => {\r\n      totalPrice += item.price;\r\n    });\r\n\r\n    return totalPrice;\r\n  };\r\n\r\n  return (\r\n    <BasketContext.Provider value={{ userBasketItems, addToBasket, removeFromBasket, total }}>\r\n      {children}\r\n    </BasketContext.Provider>\r\n  );\r\n};\r\n"],"mappings":";;AAAA;;AAEA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,oBAAoB,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAC3D,OAAO,MAAMC,aAAa,gBAAGN,aAAa,CAAC,CAAC;AAE5C,OAAO,MAAMO,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC9C,MAAM;IAAEC;EAAW,CAAC,GAAGP,oBAAoB,CAAC,CAAC;EAE7C,MAAM,CAACQ,eAAe,EAAEC,kBAAkB,CAAC,GAAGX,QAAQ,CAAC,MAAM;IAC3D,MAAMY,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAE,eAAcL,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEM,GAAI,EAAC,CAAC;IAC1E,OAAOH,WAAW,GAAGI,IAAI,CAACC,KAAK,CAACL,WAAW,CAAC,GAAG,EAAE;EACnD,CAAC,CAAC;EAEFX,SAAS,CAAC,MAAM;IACdY,YAAY,CAACK,OAAO,CAAE,eAAcT,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEM,GAAI,EAAC,EAAEC,IAAI,CAACG,SAAS,CAACT,eAAe,CAAC,CAAC;EACzF,CAAC,EAAE,CAACD,UAAU,EAAEC,eAAe,CAAC,CAAC;EAEjC,MAAMU,WAAW,GAAIC,IAAI,IAAK;IAC5B,MAAMC,YAAY,GAAG;MAAE,GAAGD,IAAI;MAAEE,MAAM,EAAEd,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEM;IAAI,CAAC;IACzDJ,kBAAkB,CAAC,CAAC,GAAGD,eAAe,EAAEY,YAAY,CAAC,CAAC;EACxD,CAAC;EAED,MAAME,gBAAgB,GAAIC,IAAI,IAAK;IACjC,MAAMC,kBAAkB,GAAGhB,eAAe,CAACiB,MAAM,CAC9CC,UAAU,IAAKA,UAAU,CAACb,GAAG,KAAKU,IAAI,CAACV,GAAG,IAAIa,UAAU,CAACL,MAAM,MAAKd,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEM,GAAG,CACtF,CAAC;IACDJ,kBAAkB,CAACe,kBAAkB,CAAC;EACxC,CAAC;EAED,MAAMG,KAAK,GAAGA,CAAA,KAAM;IAClB,IAAIC,UAAU,GAAG,CAAC;IAElBpB,eAAe,CAACqB,OAAO,CAAEN,IAAI,IAAK;MAChCK,UAAU,IAAIL,IAAI,CAACO,KAAK;IAC1B,CAAC,CAAC;IAEF,OAAOF,UAAU;EACnB,CAAC;EAED,oBACE1B,OAAA,CAACC,aAAa,CAAC4B,QAAQ;IAACC,KAAK,EAAE;MAAExB,eAAe;MAAEU,WAAW;MAAEI,gBAAgB;MAAEK;IAAM,CAAE;IAAAtB,QAAA,EACtFA;EAAQ;IAAA4B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAE7B,CAAC;AAAC9B,EAAA,CAvCWF,cAAc;EAAA,QACFJ,oBAAoB;AAAA;AAAAqC,EAAA,GADhCjC,cAAc;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}